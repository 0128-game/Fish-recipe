<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>魚料理検索</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f5f5f5;
    }
    h1 {
      color: #333;
    }
    .search-box {
      margin-bottom: 20px;
    }
    input[type="number"] {
      padding: 5px;
      font-size: 16px;
      width: 100px;
    }
    button {
      padding: 6px 12px;
      font-size: 16px;
      cursor: pointer;
    }
    #result {
      background: white;
      border: 1px solid #ccc;
      padding: 15px;
      border-radius: 5px;
      max-width: 400px;
    }
    .recipe-title {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 10px;
    }
    .recipe-caption {
      color: #555;
      margin-bottom: 15px;
    }
    .section-title {
      margin-top: 10px;
      font-weight: bold;
      border-bottom: 1px solid #ccc;
    }
    ul {
      padding-left: 20px;
    }
  </style>
</head>
<body>
  <h1>魚料理検索</h1>

  <!-- 検索フォーム -->
  <div class="search-box">
    <label for="rankInput">検索するRank番号:</label>
    <input type="number" id="rankInput" placeholder="例: 1">
    <button onclick="searchRecipe()">検索</button>
  </div>

  <!-- 結果表示エリア -->
  <div id="result">ここに結果が表示されます</div>

  <script>
    // ======= 仮のJSONデータ =======
    const jsonData = {
      "recipes": [
        {
          "Rank": 1,
          "タイトル": "シーフードミックス炒め",
          "キャッチコピー": "冷凍シーフードで簡単海の幸パーティー！",
          "材料": ["シーフードミックス 200g", "塩 少々"],
          "手順": ["炒める", "味付けする"]
        },
        {
          "Rank": 2,
          "タイトル": "サバの味噌煮",
          "キャッチコピー": "青魚の脂と味噌がしみ込むごちそう！",
          "材料": ["サバ 1尾", "水 150ml"],
          "手順": ["煮る", "味噌を入れる"]
        }
      ]
    };

    console.log("JSON読み込み成功:", jsonData);

    const recipes = jsonData.recipes;

    // ======= 検索処理 =======
    function searchRecipe() {
      const searchRank = parseInt(document.getElementById("rankInput").value);
      console.log("検索対象rank:", searchRank, " recipes配列:", recipes);

      const target = recipes.find(r => r["Rank"] === searchRank);

      const resultDiv = document.getElementById("result");
      if (target) {
        // 結果をHTMLに出力
        resultDiv.innerHTML = `
          <div class="recipe-title">${target["タイトル"]}</div>
          <div class="recipe-caption">${target["キャッチコピー"]}</div>
          
          <div class="section-title">材料</div>
          <ul>${target["材料"].map(item => `<li>${item}</li>`).join("")}</ul>

          <div class="section-title">手順</div>
          <ol>${target["手順"].map(step => `<li>${step}</li>`).join("")}</ol>
        `;
      } else {
        resultDiv.innerHTML = `<p>該当するレシピが見つかりません。</p>`;
      }
    }

    // ======= 初期表示（全件表示） =======
    recipes.forEach(recipe => {
      console.log("rank=" + recipe["Rank"] + ", name=" + recipe["タイトル"]);
    });
  </script>
</body>
</html>
