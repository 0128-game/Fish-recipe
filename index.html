async function loadRecipes() {
    try {
        const response = await fetch('docs/recipes.json');
        if (!response.ok) {
            throw new Error('JSONãƒ•ã‚¡ã‚¤ãƒ«ãŒèª­ã¿è¾¼ã‚ã¾ã›ã‚“');
        }
        const data = await response.json();
        console.log("âœ… JSONèª­ã¿è¾¼ã¿æˆåŠŸ:", data);

        // é…åˆ—å½¢å¼ã‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ã‹ã‚’åˆ¤å®š
        const recipes = Array.isArray(data) ? data : data.recipes;
        console.log("ğŸ“‚ recipesé…åˆ—:", recipes);

        return recipes;
    } catch (error) {
        console.error(error);
        return [];
    }
}

async function showRecipe() {
    const rankInput = document.getElementById('rankInput').value.trim();
    console.log("ğŸ¯ å…¥åŠ›ã•ã‚ŒãŸå€¤:", rankInput);

    if (!rankInput) {
        alert("é †ä½ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
        return;
    }

    const recipes = await loadRecipes();
    console.log("ğŸ” æ¤œç´¢å¯¾è±¡rank:", rankInput, " recipesé…åˆ—:", recipes);

    const rankNumber = parseInt(rankInput, 10);

    // rankãŒæ•°å€¤å‹ã‹æ–‡å­—åˆ—å‹ã‹ã«å¯¾å¿œ
    const recipe = recipes.find(r => parseInt(r.rank, 10) === rankNumber);

    if (!recipe) {
        alert("è©²å½“ã™ã‚‹ãƒ¬ã‚·ãƒ”ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“");
        return;
    }

    console.log(`ğŸ‰ è¦‹ã¤ã‹ã£ãŸãƒ¬ã‚·ãƒ”: rank=${recipe.rank}, name=${recipe.name}`);

    document.getElementById('recipeDisplay').innerHTML = `
        <h2>${recipe.name}</h2>
        <p>${recipe.description}</p>
        <ul>
            ${recipe.ingredients.map(ing => `<li>${ing}</li>`).join('')}
        </ul>
    `;
}
